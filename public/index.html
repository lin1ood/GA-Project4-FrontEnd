<!DOCTYPE html>
<html ng-app="blog_app">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
    <script src="/app.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/style.css">
    <title></title>
  </head>
  <body ng-controller="mainController as ctrl">

    <header>GA Blog APP - No cross data depends -- yet
      <form ng-submit="ctrl.login(userPass)">
        <input type="text" ng-model="userPass.username" placeholder="username"/>
        <input type="password" ng-model="userPass.password" placeholder="password"/>
        <input type="submit" value="Login"/>
      </form>
      <form ng-submit="ctrl.register(userPass)">
        <input type="text" ng-model="userPass.username" placeholder="username"/>
        <input type="password" ng-model="userPass.password" placeholder="password"/>
        <input type="submit" value="Register"/>
      </form>
      <a ng-click="ctrl.logout()" href="#">Logout</a>
    </header>
    <div class="container">
      <main>
      </main>
      <nav>
        <div ng-repeat="blog in ctrl.blogs">
          <h3>{{ blog.author }}</h3>
          <button ng-click="ctrl.deleteBlog(blog)">Delete this blog</button>
          <button ng-click="ctrl.showBlogger(blog.user_id)">Show only this Authors Blogs</button>
          <button ng-hide="ctrl.edit_form" ng-click="ctrl.edit_form = true">Edit my Blog</button>
          <form ng-show="ctrl.edit_form" ng-submit="ctrl.editBlog(blog)">
            <input type="text" ng-model="ctrl.editForm.author" placeholder='{{ blog.author }}'>
            <input type="text" ng-model="ctrl.editForm.subject" placeholder="{{ blog.subject }}">
            <input type="text" ng-model="ctrl.editForm.content" placeholder="{{ blog.content }}">
            <input type="hidden" ng-model="ctrl.editForm.user_id" value="blog.user_id">
            <input class="submit" type="submit"/>
          </form>
        </div>
      </nav>
      <aside>
        <div ng-repeat="blog in ctrl.blogs">
          <h3>{{ blog.subject }}
            <small>{{ blog.content }}</small>
          </h3>
        </div>
      </aside>
    </div>
    <h4>POST A BLOG</h4>
      <form ng-submit="ctrl.processForm()">
          <input type="text" ng-model="ctrl.formData.author"placeholder="author"/>
          <input type="text" ng-model="ctrl.formData.subject" placeholder="subject"/>
          <input type="text" ng-model="ctrl.formData.content" placeholder="content"/>
          <input class="submit" type="submit"/>
       </form>
    </div>
    <footer>â€¦</footer>
  </body>
</html>
