<!DOCTYPE html>
<html ng-app="blog_app">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
    <script src="/app.js" type="text/javascript"></script>
    <link rel="stylesheet" href="style.css">
    <title></title>
  </head>
  <body ng-controller="mainController as ctrl" class ="wrapper">
    <div class="headerimages">
      <img src="GA_gizmo1.jpg" alt="GA pic goes here" id="img1">
      <img src="Gizmo2.webp" alt="Gizmo gif goes here" id="img2">
    </div>
    <div class ="mainheader">
      <h1>Welcome to the gizmo class blog from General Assembly. Please share to your hearts content!</h1>
      <form ng-submit="ctrl.login(userPass)">
        <input type="text" ng-model="userPass.username" placeholder="username"/>
        <input type="password" ng-model="userPass.password" placeholder="password"/>
        <input type="submit" value="Login"/>
      </form>
      <form ng-submit="ctrl.register(userPass)">
        <input type="text" ng-model="userPass.username" placeholder="username"/>
        <input type="password" ng-model="userPass.password" placeholder="password"/>
        <input type="submit" value="Register"/>
      </form>
      <a ng-click="ctrl.logout()" href="#">Logout</a>
    </div>
    <div class="content">
      <div ng-repeat="blog in ctrl.blogs" class="bloginfo">
        <h3>{{ blog.author }}</h3>
        <h3>{{ blog.subject }}
        </h3>
        <small class ="blogcontent">{{ blog.content }}</small>
        <button ng-click="ctrl.deleteBlog(blog)" class ="buttons">Delete this blog</button>
        <button ng-click="ctrl.showBlogger(blog.user_id)" id="showauthorsblogs">Show only this Authors Blogs</button>
        <button ng-hide="ctrl.edit_form" ng-click="ctrl.edit_form = true" class = "buttons">Edit my Blog</button>
      </div>
      <div class ="forms">
        <form ng-submit="ctrl.processForm()" id ="newBlogForm">Create a new blog
          <input type="text" ng-model="ctrl.formData.author"placeholder="author"/>
          <input type="text" ng-model="ctrl.formData.subject" placeholder="subject"/>
          <input type="text" ng-model="ctrl.formData.content" placeholder="content"/>
          <input class="submit" type="submit"/>
        </form>
        <form ng-show="ctrl.edit_form" ng-submit="ctrl.editBlog(blog)">Edit a blog - this is only available when logged in
          <input type="text" ng-model="ctrl.editForm.author" placeholder='{{ blog.author }}'>
          <input type="text" ng-model="ctrl.editForm.subject" placeholder="{{ blog.subject }}">
          <input type="text" ng-model="ctrl.editForm.content" placeholder="{{ blog.content }}">
          <input type="hidden" ng-model="ctrl.editForm.user_id" value="blog.user_id">
          <input class="submit" type="submit"/>
        </form>
      </div>
    </div>
    <footer class = "mainfooter">GA WDI GIZMO Alumni Blog created by AJ and Lin.</br>
      All rights reserved</footer>
  </body>
</html>
